function $(e,t=document){return t.querySelector(e)}function $$(e,t=document){return Array.from(t.querySelectorAll(e))}function removeAllChildren(e){let t;for(;t=e.lastChild;)e.removeChild(t)}const fReader=new FileReader;function blobtoUrl(e){return URL.createObjectURL(e)}function blobtoDataUrl(e){return fReader.readAsDataURL(e),new Promise((e,t)=>{fReader.onload=(()=>e(fReader.result)),fReader.onerror=t})}function UrltoDataUrl(e){return URLtoblob(e).then(blobtoDataUrl)}function DataUrltoURL(e){return URLtoblob(e).then(blobtoUrl)}function URLtoblob(e){return fetch(e).then(e=>e.blob())}function loadscript(e,t="",r=!1){const n=document.createElement("script");return n.src=e,r&&(n.type="module"),document.body.appendChild(n),new Promise((e,r)=>{n.onload=(()=>{""===t?e():e(window[t])}),n.onerror=r})}function loadcss(e){const t=document.createElement("link");return t.href=e,t.rel="stylesheet",document.head.appendChild(t),new Promise((e,r)=>{t.onload=e,t.onerror=r})}function importhtml(e){return fetch(e).then(e=>e.text()).then(parseHtml)}function parseHtml(e){const t=document.createElement("div");return t.innerHTML=e,t}function swapsrc(e){const{src:t}=e,r=e.dataset.src||"//#";e.setAttribute("src",r),e.dataset.src=t}function applypreloadedstyles(){$$('link[as="style"]:not([rel="stylesheet"])').forEach(e=>e.rel="stylesheet")}class Promises extends Promise{constructor(e){Array.isArray(e)?super((t,r)=>{Promise.all(e).then(t).catch(r)}):super(e)}map(e){return this.then(t=>new Promises(t.map((t,r)=>e(t,r))))}forEach(e){return this.then(t=>new Promises(t.map((t,r)=>(e(t,r),t))))}}function makeeditable(...e){e.forEach(e=>e.setAttribute("contenteditable","true"))}function makenoneditable(...e){e.forEach(e=>e.setAttribute("contenteditable","false"))}function Awaiter(){this.promise=new Promise((e,t)=>{this.done=e,this.fail=t})}Object.assign(EventTarget.prototype,{subscribe(e,t){const r=this;return this.addEventListener(e,t),{unsubscribe(){r.removeEventListener(e,t)}}}}),console.log("loaded helper");